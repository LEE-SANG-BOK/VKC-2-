export const CATEGORY_EXAMPLE_QUESTIONS: Record<string, Record<string, string[]>> = {
  ko: {
    visa: [
      'E-9 비자 연장은 언제부터 신청할 수 있나요?',
      '비자 만료 전 준비해야 할 서류가 궁금해요.',
    ],
    'visa-process': [
      '비자 연장 신청 시 필수 서류가 뭔가요?',
      '예약 없이도 비자 연장 접수가 가능한가요?',
    ],
    'status-change': [
      '어학비자에서 취업비자로 변경할 때 요건이 뭔가요?',
      '체류자격 변경 시 흔히 거절되는 이유가 궁금해요.',
    ],
    'visa-checklist': [
      '비자 연장 준비물 체크리스트 알려주세요.',
      '접수 전에 반드시 확인할 항목이 뭔가요?',
    ],
    'visa-tips': [
      '비자 변경할 때 자주 막히는 부분이 뭔가요?',
      '보충서류 요구를 줄이려면 어떻게 준비하나요?',
    ],
    scholarship: [
      '베트남 유학생이 지원할 수 있는 한국 장학금은?',
      '장학금 신청 일정과 기본 요건을 알고 싶어요.',
    ],
    'tuition-living-cost': [
      '서울 기준 학비와 생활비를 합친 월 예산이 얼마나 될까요?',
      '지방 대학으로 가면 생활비를 얼마나 줄일 수 있나요?',
    ],
    'university-ranking': [
      'IT 전공 강한 대학과 그 지역 생활비를 비교해 주세요.',
      '기숙사비가 저렴한 학교가 어디인지 알고 싶어요.',
    ],
    'campus-life': [
      '기숙사 신청 시 경쟁률과 팁이 궁금해요.',
      '대학생활 중 교환학생 준비는 언제부터 시작하나요?',
    ],
    'korean-language': [
      'TOPIK II 쓰기 점수 빠르게 올리는 방법이 있을까요?',
      '아르바이트 현장에서 자주 쓰는 한국어 표현이 궁금해요.',
    ],
    'student-life': [
      '유학생 보험/건강검진은 어떻게 준비하나요?',
      '한국 대학 등록금 납부 일정과 주의사항이 궁금해요.',
    ],
    business: [
      '유학생 아르바이트에서 허용/금지 업종이 궁금해요.',
      '편의점·식당 알바 시 급여·근로시간 제한이 어떻게 되나요?',
    ],
    legal: [
      '근로계약서에서 꼭 확인해야 할 항목이 뭔가요?',
      '퇴직금/주휴수당을 못 받았을 때 신고 절차는?',
    ],
    'wage-info': [
      '2025년 최저임금과 주휴수당 포함 시 시급이 얼마인가요?',
      '직종별 평균 시급/팁 정보를 알고 싶어요.',
    ],
    employment: [
      '주 52시간제에서 초과근무 수당을 어떻게 계산하나요?',
      '제조업 근로계약서 체크포인트가 뭔가요?',
    ],
    'cost-of-living': [
      '월세·식비·교통비 포함한 평균 생활비는 얼마인가요?',
      '서울 vs 지방 생활비 차이가 궁금해요.',
    ],
    housing: [
      '외국인이 전세 계약할 때 꼭 챙겨야 할 서류는?',
      '보증금 보호를 위해 확정일자는 어떻게 받나요?',
    ],
    'interview-tips': [
      '한국어 면접에서 자주 묻는 질문은 무엇인가요?',
      '외국인 이력서에 꼭 넣어야 할 항목이 뭔가요?',
    ],
    finance: [
      '송금 수수료가 가장 낮은 은행/앱이 어디인가요?',
      '외국인도 토스뱅크나 카카오뱅크 계좌를 만들 수 있나요?',
    ],
    'daily-life': [
      '공공요금 자동이체 설정은 어떻게 하나요?',
      '필수 생활/편의 앱 추천해 주세요.',
    ],
    healthcare: [
      '건강보험 전환·가입 시 필요한 서류가 궁금해요.',
      '치과 비용을 줄일 수 있는 방법이 있을까요?',
    ],
    topik: [
      'TOPIK 단기 합격을 위한 공부 루틴이 궁금해요.',
      '쓰기 영역에서 감점을 줄이는 방법이 있을까요?',
    ],
    shipping: [
      '베트남으로 EMS 보낼 때 주의할 점이 뭔가요?',
      '통관 지연을 줄이는 팁이 있나요?',
    ],
    education: [
      '다문화 가정 자녀 교육 지원 제도가 있나요?',
      '편입 준비 시 필요한 서류가 무엇인가요?',
    ],
    'worker-rights': [
      '퇴직금/주휴수당 미지급 신고 절차가 궁금해요.',
      '산업안전 교육 의무가 무엇인지 알고 싶어요?',
    ],
    food: [
      '베트남 식재료 저렴하게 살 수 있는 곳이 있을까요?',
      '쌀국수 재료를 파는 온라인몰을 추천해 주세요.',
    ],
    'cultural-exchange': [
      '베트남 커뮤니티 모임은 어디서 열리나요?',
      '한-베 교류 행사 정보를 어디서 볼 수 있나요?',
    ],
    'culture-tour': [
      '서울에서 한-베 문화 행사를 찾으려면 어떻게 하나요?',
      '베트남 커뮤니티가 많은 지역이 궁금해요.',
    ],
  },
  en: {
    visa: [
      'When can I apply to extend my E-9 visa?',
      'Documents required before visa expiry?',
    ],
    'visa-process': [
      'Required documents for visa extension?',
      'Can I submit without online reservation?',
    ],
    'status-change': [
      'Requirements to change from student visa to work visa?',
      'Common reasons for status-change rejection?',
    ],
    'visa-checklist': [
      'Visa extension checklist before visiting the office?',
      'What to double-check to avoid refusal?',
    ],
    'visa-tips': [
      'Frequent pitfalls when changing visas?',
      'How to reduce additional document requests?',
    ],
    scholarship: [
      'Scholarships Vietnamese students can apply for?',
      'Typical requirements and timelines for scholarships?',
    ],
    'tuition-living-cost': [
      'Estimated monthly budget (tuition + living) in Seoul?',
      'How much cheaper is it in regional cities?',
    ],
    'university-ranking': [
      'Universities strong in IT and their living costs?',
      'Dormitory fees comparison by school/region?',
    ],
    'campus-life': [
      'Tips for applying to dorms and typical competition?',
      'When to start preparing for exchange programs?',
    ],
    'korean-language': [
      'Quick tips to boost TOPIK II writing?',
      'Common Korean phrases for part-time jobs?',
    ],
    'student-life': [
      'How to handle insurance/health check as a student?',
      'Tuition payment schedule and cautions?',
    ],
    business: [
      'Which part-time jobs are allowed/prohibited for students?',
      'Pay and hour limits for convenience-store/restaurant jobs?',
    ],
    legal: [
      'Key clauses to check in a Korean labor contract?',
      'How to claim unpaid severance or weekly allowance?',
    ],
    'wage-info': [
      '2025 minimum wage and weekly allowance included rate?',
      'Average hourly wage/tips by job type?',
    ],
    employment: [
      'How to calculate overtime under the 52-hour rule?',
      'Contract checkpoints for manufacturing workers?',
    ],
    'cost-of-living': [
      'Average monthly cost incl. rent/food/transport?',
      'Seoul vs regional cities cost difference?',
    ],
    housing: [
      'Must-have documents for jeonse/rent contracts?',
      'How to protect the deposit (certified date)?',
    ],
    'interview-tips': [
      'Common questions in Korean job interviews for foreigners?',
      'Must-have sections on a resume for jobs in Korea?',
    ],
    finance: [
      'Which bank/app has the lowest remittance fee to VN?',
      'Can foreigners open Toss/Kakao Bank accounts?',
    ],
    'daily-life': [
      'How to set up auto-pay for utilities in Korea?',
      'Must-have daily/utility apps in Korea?',
    ],
    healthcare: [
      'What is needed to enroll/convert to National Health Insurance?',
      'Any tips to reduce dental costs for foreigners?',
    ],
    topik: [
      'Fast-track study plan for passing TOPIK?',
      'How to reduce point deductions in TOPIK writing?',
    ],
    shipping: [
      'Tips to avoid customs delays when sending to Vietnam?',
      'Average EMS time and common pitfalls?',
    ],
    education: [
      'Support programs for multicultural kids?',
      'Documents needed for university transfer in Korea?',
    ],
    'worker-rights': [
      'How to file unpaid severance/weekly allowance claims?',
      'What workplace safety training is mandatory?',
    ],
    food: [
      'Where to buy Vietnamese ingredients cheaply in Seoul?',
      'Recommended online shops for pho ingredients in Korea?',
    ],
    'cultural-exchange': [
      'Where do Korea–Vietnam community events happen?',
      'How to find Korea–Vietnam cultural meetup info?',
    ],
    'culture-tour': [
      'How to find Korea–Vietnam cultural events in Seoul?',
      'Areas with active Vietnamese communities?',
    ],
  },
  vi: {
    visa: [
      'Khi nào có thể nộp gia hạn visa E-9?',
      'Cần giấy tờ gì trước khi visa hết hạn?',
    ],
    'visa-process': [
      'Hồ sơ cần thiết để gia hạn visa?',
      'Có thể nộp mà không đặt lịch online không?',
    ],
    'status-change': [
      'Điều kiện đổi từ visa du học sang visa đi làm?',
      'Lý do thường bị từ chối đổi tư cách lưu trú?',
    ],
    'visa-checklist': [
      'Checklist chuẩn bị gia hạn visa?',
      'Những mục phải kiểm tra để tránh bị từ chối?',
    ],
    'visa-tips': [
      'Điểm hay vướng khi đổi visa là gì?',
      'Cách giảm yêu cầu bổ sung hồ sơ?',
    ],
    scholarship: [
      'Học bổng nào du học sinh Việt có thể xin?',
      'Lịch và yêu cầu cơ bản của học bổng?',
    ],
    'tuition-living-cost': [
      'Ước tính ngân sách/tháng (học phí + sinh hoạt) ở Seoul?',
      'Học ở tỉnh thì tiết kiệm được bao nhiêu chi phí?',
    ],
    'university-ranking': [
      'Trường mạnh IT và chi phí sinh hoạt khu vực đó?',
      'So sánh phí ký túc xá theo trường/khu vực?',
    ],
    'campus-life': [
      'Mẹo đăng ký ký túc xá và tỷ lệ cạnh tranh?',
      'Chuẩn bị trao đổi sinh viên nên bắt đầu khi nào?',
    ],
    'korean-language': [
      'Mẹo tăng điểm viết TOPIK II nhanh?',
      'Cụm từ tiếng Hàn thường dùng khi đi làm thêm?',
    ],
    'student-life': [
      'Bảo hiểm/khám sức khỏe cho du học sinh chuẩn bị thế nào?',
      'Lịch đóng học phí và lưu ý gì?',
    ],
    business: [
      'Du học sinh được phép/không được phép làm thêm ngành nào?',
      'Giới hạn giờ làm và lương ở cửa hàng tiện lợi/nhà hàng?',
    ],
    legal: [
      'Các mục phải kiểm tra trong hợp đồng lao động ở Hàn?',
      'Cách khiếu nại nợ lương/ trợ cấp tuần?',
    ],
    'wage-info': [
      'Mức lương tối thiểu 2025 (kèm trợ cấp tuần) là bao nhiêu?',
      'Mức lương/tip trung bình theo ngành?',
    ],
    employment: [
      'Cách tính tăng ca theo quy định 52 giờ/tuần?',
      'Điểm kiểm tra hợp đồng khi làm sản xuất?',
    ],
    'cost-of-living': [
      'Chi phí trung bình/tháng gồm thuê nhà/ăn uống/đi lại?',
      'Chênh lệch chi phí Seoul vs tỉnh lẻ?',
    ],
    housing: [
      'Giấy tờ bắt buộc khi thuê/jeonse cho người nước ngoài?',
      'Cách bảo vệ tiền đặt cọc (đăng ký ngày chứng thực)?',
    ],
    'interview-tips': [
      'Câu hỏi thường gặp khi phỏng vấn xin việc ở Hàn?',
      'Hồ sơ xin việc cần mục gì để dễ được nhận?',
    ],
    finance: [
      'Ngân hàng/app nào phí chuyển tiền về VN thấp nhất?',
      'Người nước ngoài mở tài khoản Toss/Kakao Bank được không?',
    ],
    'daily-life': [
      'Cách cài tự động thanh toán hóa đơn ở Hàn?',
      'App tiện ích cần thiết khi sống ở Hàn?',
    ],
    healthcare: [
      'Cần gì để đăng ký/chuyển sang bảo hiểm y tế quốc gia?',
      'Mẹo giảm chi phí nha khoa cho người nước ngoài?',
    ],
    topik: [
      'Lộ trình học nhanh để đậu TOPIK?',
      'Cách giảm trừ điểm ở phần viết TOPIK?',
    ],
    shipping: [
      'Cách tránh trễ thông quan khi gửi hàng về VN?',
      'Thời gian EMS trung bình và lưu ý?',
    ],
    education: [
      'Chương trình hỗ trợ cho con em đa văn hóa?',
      'Hồ sơ cần để chuyển tiếp đại học ở Hàn?',
    ],
    'worker-rights': [
      'Cách khiếu nại nợ lương/ trợ cấp tuần?',
      'Những yêu cầu bắt buộc về an toàn lao động là gì?',
    ],
    food: [
      'Mua nguyên liệu Việt giá rẻ ở Seoul ở đâu?',
      'Shop online bán nguyên liệu phở tại Hàn?',
    ],
    'cultural-exchange': [
      'Sự kiện/meetup giao lưu Hàn-Việt tổ chức ở đâu?',
      'Cách tìm thông tin giao lưu văn hóa Hàn-Việt?',
    ],
    'culture-tour': [
      'Làm sao tìm sự kiện văn hóa Hàn-Việt ở Seoul?',
      'Khu vực có cộng đồng Việt sôi động?',
    ],
  },
};

export const normalizeCategorySlug = (slug: string | null | undefined): string => {
    if (!slug) return '';
    return slug.trim().toLowerCase();
};

export const getFirstExample = (examples: string[]): string | null => {
    if (!examples.length) return null;
    return examples[0] ?? null;
};

export const pickExampleQuestion = (categorySlug: string | null | undefined, locale: string = 'ko'): string | null => {
    const normalizedSlug = normalizeCategorySlug(categorySlug);
    const bucket = CATEGORY_EXAMPLE_QUESTIONS[locale] || CATEGORY_EXAMPLE_QUESTIONS.ko;
    const categoryExamples = bucket?.[normalizedSlug];
    if (categoryExamples?.length) {
      return getFirstExample(categoryExamples);
    }
    return null;
};
